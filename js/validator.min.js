class Validator{constructor(form){this.form=form,form.setAttribute("novalidate",!0)}inputEmptyValidator=options=>{this.formValid=!0;try{const form=this.form;if(!form)throw new Error("ورودی تابع نادرست می باشد!");form.addEventListener("submit",this.formSubmit);let requiredInputs=[...form].filter(element=>"INPUT"==element.tagName&&element.hasAttribute("required"));requiredInputs&&requiredInputs.forEach(input=>{const elementHaveRegex=input.hasAttribute("pattern");1==options.regex&&elementHaveRegex&&input.addEventListener("change",this.regexValidator),elementHaveRegex||input.addEventListener("change",this.inputOnChange);let errorElement=document.createElement("span");errorElement.style.color="#d40000",errorElement.id=`${input.id}Error`,input.parentNode.appendChild(errorElement)})}catch{throw new Error("مشکلی به وجود آمده است!")}};formSubmit=e=>{let arrayOfInput=[...e.target];arrayOfInput=arrayOfInput.filter(element=>"INPUT"==element.tagName&&element.hasAttribute("required")),arrayOfInput.forEach(input=>{let spanError=document.getElementById(`${input.id}Error`);if(""==input.value){let[label]=input.labels;e.preventDefault(),spanError.innerHTML=`عنوان ${label.textContent} الزامی میباشد.`}else spanError.innerHTML=""})};inputOnChange=e=>{let targetInput=e.target,spanError=document.getElementById(`${targetInput.id}Error`);""==targetInput.value?spanError.innerHTML=`عنوان ${targetInput.labels[0].textContent} الزامی میباشد.`:spanError.innerHTML=""};regexValidator=e=>{let targetInput=e.target,pattern=targetInput.pattern,spanError=document.getElementById(`${targetInput.id}Error`),exp,regexResult=new RegExp(pattern).test(e.target.value);spanError.innerHTML=regexResult?"":` فرمت عنوان ${targetInput.labels[0].textContent} نادرست میباشد.`}}